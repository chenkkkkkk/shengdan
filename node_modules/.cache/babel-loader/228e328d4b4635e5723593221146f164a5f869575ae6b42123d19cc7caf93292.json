{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\n/**\n * tdesign v0.14.1\n * (c) 2022 TDesign Group\n * @license MIT\n */\n\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport { isVNode, getCurrentInstance } from 'vue';\nfunction useChildSlots(childComponentName, childInSlots) {\n  var recurChildren = function recurChildren(children) {\n    var result = [];\n    if (Array.isArray(children)) {\n      children.forEach(function (child) {\n        if (isVNode(child)) {\n          var _child$component;\n          result.push(child);\n          if ((_child$component = child.component) !== null && _child$component !== void 0 && _child$component.subTree) {\n            result.push(child.component.subTree);\n            result.push.apply(result, _toConsumableArray(recurChildren(child.component.subTree.children)));\n          }\n          if (child.children) {\n            result.push.apply(result, _toConsumableArray(recurChildren(child.children)));\n          }\n        }\n      });\n    }\n    return result;\n  };\n  var targetChildren = [];\n  if (childInSlots !== void 0) {\n    targetChildren.push.apply(targetChildren, _toConsumableArray(recurChildren(childInSlots)));\n  } else {\n    var _getCurrentInstance;\n    targetChildren.push.apply(targetChildren, _toConsumableArray(recurChildren((_getCurrentInstance = getCurrentInstance()) === null || _getCurrentInstance === void 0 ? void 0 : _getCurrentInstance.subTree.children)));\n  }\n  return targetChildren.filter(function (child) {\n    var _child$type;\n    return ((_child$type = child.type) === null || _child$type === void 0 ? void 0 : _child$type.name) === childComponentName;\n  });\n}\nexport { useChildSlots };","map":{"version":3,"mappings":";;;;;;;;;AAQgB,uBAAcA,oBAA4BC,YAAwC;EAC1F,oBAAgB,SAAhBC,cAAiBC,QAAuC;IAC5D,IAAMC,SAAkB,EAAC;IACrB,UAAMC,OAAQ,SAAQ,CAAG;MAClBF,iBAAQ,UAACG,KAAU;QACtB,YAAQA,KAAK,CAAG;UAAA;UAClBF,OAAOG,KAAKD,KAAK;UAEb,8BAAME,eAAN,wDAAiBC,OAAS;YACrBL,YAAKE,KAAM,WAAUG,OAAO;YACnCL,OAAOG,KAAPH,iCAAeF,cAAcI,MAAME,SAAU,SAAQL,QAAQ,CAAC;UAChE;UAEA,IAAIG,MAAMH,QAAU;YAClBC,OAAOG,IAAK,OAAZH,2BAAeF,aAAc,OAAMC,QAAQ,CAAC;UAC9C;QACF;MACF,CAAC;IACH;IACO;GACT;EACA,IAAMO,iBAA0B,EAAC;EACjC,IAAIT,iBAAiB,KAAW;IAC9BS,eAAeH,IAAK,CAApBG,yCAAuBR,aAAc,aAAY,CAAC;EACpD,CAAO;IAAA;IACLQ,eAAeH,KAAfG,yCAAuBR,qCAAcS,oBAAsB,wDAAtBC,mBAAsBH,SAAQN,QAAQ,CAAC;EAC9E;EAEA,OAAOO,eAAeG,MAAO,WAACP;;WAAU,qBAAM,qDAANQ,WAAYC,WAASf,kBAAkB;GAAA;AACjF","names":["childComponentName","childInSlots","recurChildren","children","result","isArray","child","push","component","subTree","targetChildren","getCurrentInstance","_getCurrentInstance","filter","_child$type","name"],"sources":["../../../src/shared/useChildSlots/index.ts"],"sourcesContent":["import { VNode, isVNode, VNodeNormalizedChildren, getCurrentInstance } from 'vue';\n\n/**\n * 获取子组件VNode。处理多种子组件创建场景\n * 使用场景：<t-steps> <t-steps-item /> </t-steps>, <t-steps> <t-steps-item v-for=\"(item, index)\" :key=\"index\" /> </t-steps>\n * @param childInSlots\n * @returns\n */\nexport function useChildSlots(childComponentName: string, childInSlots?: VNodeNormalizedChildren) {\n  const recurChildren = (children?: VNodeNormalizedChildren) => {\n    const result: VNode[] = [];\n    if (Array.isArray(children)) {\n      children.forEach((child) => {\n        if (isVNode(child)) {\n          result.push(child);\n\n          if (child.component?.subTree) {\n            result.push(child.component.subTree);\n            result.push(...recurChildren(child.component.subTree.children));\n          }\n\n          if (child.children) {\n            result.push(...recurChildren(child.children));\n          }\n        }\n      });\n    }\n    return result;\n  };\n  const targetChildren: VNode[] = [];\n  if (childInSlots !== undefined) {\n    targetChildren.push(...recurChildren(childInSlots));\n  } else {\n    targetChildren.push(...recurChildren(getCurrentInstance()?.subTree.children));\n  }\n  // @ts-ignore\n  return targetChildren.filter((child) => child.type?.name === childComponentName);\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}