{"ast":null,"code":"/**\n * tdesign v0.14.1\n * (c) 2022 TDesign Group\n * @license MIT\n */\n\nvar SIZE_MAP = {\n  B: 1024,\n  KB: 1,\n  MB: 1048576,\n  GB: 1073741824\n};\nfunction isOverSizeLimit(fileSize, sizeLimit, unit) {\n  var units = [\"B\", \"KB\", \"MB\", \"GB\"];\n  var KB_INDEX = 1;\n  var index = units.indexOf(unit);\n  if (index === -1) {\n    console.warn(\"TDesign Upload Warn: `sizeLimit.unit` can only be one of \".concat(units.join()));\n    index = KB_INDEX;\n  }\n  var num = SIZE_MAP[unit];\n  var limit = index < KB_INDEX ? sizeLimit / num : sizeLimit * num;\n  return fileSize <= limit;\n}\nexport { isOverSizeLimit };","map":{"version":3,"mappings":";;;;;;AAmBA,IAAMA,QAAW;EACfC,CAAG;EACHC,EAAI;EACJC,EAAI;EACJC,EAAI;AACN;AAOgB,yBAAgBC,QAAkB,aAAmBC,IAAgB;EAEnF,IAAMC,KAAQ,IAAC,GAAK,QAAM,MAAM,IAAI;EACpC,IAAMC,QAAW;EACb,YAAQD,KAAM,SAAQD,IAAI;EAC9B,IAAIG,UAAU,CAAI;IAChBC,QAAQC,IAAK,oEAA8DJ,KAAM,OAAQ;IACjFE;EACV;EACA,IAAMG,MAAMZ,QAAS;EACrB,IAAMa,KAAQ,WAAQL,QAAW,eAAYI,MAAME,SAAY;EAC/D,OAAOT,QAAY;AACrB","names":["SIZE_MAP","B","KB","MB","GB","fileSize","unit","units","KB_INDEX","index","console","warn","num","limit","sizeLimit"],"sources":["../../src/upload/util.ts"],"sourcesContent":["import { SizeUnit } from './type';\n/**\n * [*] 表示方法采用这种方式\n * [x] 表示方法不采用这种方式\n *\n * [x] bit      位              b     0 or 1\n * [*] byte     字节            B     8 bits\n * [x] kilobit  千位            kb    1000 bites\n * [*] kilobyte 千字节(二进制)   KB    1024 bytes\n * [x] kilobyte 千字节(十进制)   KB    1000 bytes\n * [x] Megabite 百万位          Mb    1000 kilobits\n * [*] Megabyte 兆字节(二进制)   KB    1024 kilobytes\n * [*] Megabyte 兆字节(十进制)   KB    1000 kilobytes\n * [x] Gigabit  万亿位          Gb    1000 Megabite\n * [*] Gigabyte 吉字节(二进制)   GB    1024 Megabytes\n * [x] Gigabyte 吉字节(十进制)   GB    1000 Megabytes\n */\n\n// 各个单位和 KB 的关系\nconst SIZE_MAP = {\n  B: 1024,\n  KB: 1,\n  MB: 1048576, // 1024 * 1024\n  GB: 1073741824, // 1024 * 1024 * 1024\n};\n\n/**\n * 大小比较\n * @param size 文件大小\n * @param unit 计算机计量单位\n */\nexport function isOverSizeLimit(fileSize: number, sizeLimit: number, unit: SizeUnit) {\n  // 以 KB 为单位进行比较\n  const units = ['B', 'KB', 'MB', 'GB'];\n  const KB_INDEX = 1;\n  let index = units.indexOf(unit);\n  if (index === -1) {\n    console.warn(`TDesign Upload Warn: \\`sizeLimit.unit\\` can only be one of ${units.join()}`);\n    index = KB_INDEX;\n  }\n  const num = SIZE_MAP[unit];\n  const limit = index < KB_INDEX ? sizeLimit / num : sizeLimit * num;\n  return fileSize <= limit;\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}