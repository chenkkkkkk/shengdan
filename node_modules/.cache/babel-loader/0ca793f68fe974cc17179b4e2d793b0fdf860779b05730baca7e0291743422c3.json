{"ast":null,"code":"import \"core-js/modules/es.array.push.js\";\nimport \"core-js/modules/es.array.unshift.js\";\n/**\n * tdesign v0.14.1\n * (c) 2022 TDesign Group\n * @license MIT\n */\n\nimport _toConsumableArray from '@babel/runtime/helpers/toConsumableArray';\nimport _objectWithoutProperties from '@babel/runtime/helpers/objectWithoutProperties';\nimport _slicedToArray from '@babel/runtime/helpers/slicedToArray';\nimport _defineProperty from '@babel/runtime/helpers/defineProperty';\nvar _excluded = [\"from\", \"to\", \"direction\"];\nfunction ownKeys(object, enumerableOnly) {\n  var keys = Object.keys(object);\n  if (Object.getOwnPropertySymbols) {\n    var symbols = Object.getOwnPropertySymbols(object);\n    enumerableOnly && (symbols = symbols.filter(function (sym) {\n      return Object.getOwnPropertyDescriptor(object, sym).enumerable;\n    })), keys.push.apply(keys, symbols);\n  }\n  return keys;\n}\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = null != arguments[i] ? arguments[i] : {};\n    i % 2 ? ownKeys(Object(source), !0).forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    }) : Object.getOwnPropertyDescriptors ? Object.defineProperties(target, Object.getOwnPropertyDescriptors(source)) : ownKeys(Object(source)).forEach(function (key) {\n      Object.defineProperty(target, key, Object.getOwnPropertyDescriptor(source, key));\n    });\n  }\n  return target;\n}\nfunction omit(obj, fields) {\n  var shallowCopy = _objectSpread({}, obj);\n  for (var i = 0; i < fields.length; i++) {\n    var key = fields[i];\n    delete shallowCopy[key];\n  }\n  return shallowCopy;\n}\nfunction removeEmptyAttrs(obj) {\n  var newObj = {};\n  Object.keys(obj).forEach(function (key) {\n    if (typeof obj[key] !== \"undefined\" || obj[key] === null) {\n      newObj[key] = obj[key];\n    }\n  });\n  return newObj;\n}\nfunction getTabElementByValue() {\n  var tabs = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : [];\n  var value = arguments.length > 1 ? arguments[1] : undefined;\n  var _tabs$filter = tabs.filter(function (item) {\n      var id = item.id;\n      return id === value;\n    }),\n    _tabs$filter2 = _slicedToArray(_tabs$filter, 1),\n    result = _tabs$filter2[0];\n  return result || null;\n}\nfunction firstUpperCase(str) {\n  return str.toLowerCase().replace(/( |^)[a-z]/g, function (char) {\n    return char.toUpperCase();\n  });\n}\nfunction getBackgroundColor(color) {\n  if (typeof color === \"string\") {\n    return color;\n  }\n  if (Array.isArray(color)) {\n    if (color[0] && color[0][0] === \"#\") {\n      color.unshift(\"90deg\");\n    }\n    return \"linear-gradient( \".concat(color.join(\",\"), \" )\");\n  }\n  var from = color.from,\n    to = color.to,\n    _color$direction = color.direction,\n    direction = _color$direction === void 0 ? \"to right\" : _color$direction,\n    rest = _objectWithoutProperties(color, _excluded);\n  var keys = Object.keys(rest);\n  if (keys.length) {\n    keys = keys.sort(function (a, b) {\n      var c = parseFloat(a.substr(0, a.length - 1)) - parseFloat(b.substr(0, b.length - 1));\n      return c;\n    });\n    var tempArr = keys.map(function (key) {\n      return \"\".concat(rest[key], \" \").concat(key);\n    });\n    return \"linear-gradient(\".concat(direction, \", \").concat(tempArr.join(\",\"), \")\");\n  }\n  return \"linear-gradient(\".concat(direction, \", \").concat(from, \", \").concat(to, \")\");\n}\nfunction getIEVersion() {\n  var _navigator = navigator,\n    userAgent = _navigator.userAgent;\n  var isIE = userAgent.indexOf(\"compatible\") > -1 && userAgent.indexOf(\"MSIE\") > -1;\n  var isIE11 = userAgent.indexOf(\"Trident\") > -1 && userAgent.indexOf(\"rv:11.0\") > -1;\n  if (isIE) {\n    var reIE = new RegExp(\"MSIE (\\\\d+\\\\.\\\\d+);\");\n    var match = userAgent.match(reIE);\n    if (!match) return -1;\n    var fIEVersion = parseFloat(match[1]);\n    return fIEVersion < 7 ? 6 : fIEVersion;\n  }\n  if (isIE11) {\n    return 11;\n  }\n  return Number.MAX_SAFE_INTEGER;\n}\nfunction getCharacterLength(str, maxCharacter) {\n  var hasMaxCharacter = typeof maxCharacter === \"number\";\n  if (!str || str.length === 0) {\n    if (hasMaxCharacter) {\n      return {\n        length: 0,\n        characters: str\n      };\n    }\n    return 0;\n  }\n  var len = 0;\n  for (var i = 0; i < str.length; i++) {\n    var currentStringLength = 0;\n    if (str.charCodeAt(i) > 127 || str.charCodeAt(i) === 94) {\n      currentStringLength = 2;\n    } else {\n      currentStringLength = 1;\n    }\n    if (hasMaxCharacter && len + currentStringLength > maxCharacter) {\n      return {\n        length: len,\n        characters: str.slice(0, i)\n      };\n    }\n    len += currentStringLength;\n  }\n  if (hasMaxCharacter) {\n    return {\n      length: len,\n      characters: str\n    };\n  }\n  return len;\n}\nfunction getUnicodeLength(str) {\n  return _toConsumableArray(str !== null && str !== void 0 ? str : \"\").length;\n}\nfunction limitUnicodeMaxLength(str, maxLength) {\n  return _toConsumableArray(str !== null && str !== void 0 ? str : \"\").slice(0, maxLength).join(\"\");\n}\nfunction pxCompat(param) {\n  return typeof param === \"number\" ? \"\".concat(param, \"px\") : param;\n}\nvar DOM_STYLE_PROPS = [\"padding-top\", \"padding-bottom\", \"padding-left\", \"padding-right\", \"font-family\", \"font-weight\", \"font-size\", \"font-variant\", \"text-rendering\", \"text-transform\", \"width\", \"text-indent\", \"border-width\", \"box-sizing\", \"line-height\", \"letter-spacing\"];\nfunction calculateNodeSize(targetElement) {\n  var style = window.getComputedStyle(targetElement);\n  var boxSizing = style.getPropertyValue(\"box-sizing\") || style.getPropertyValue(\"-moz-box-sizing\") || style.getPropertyValue(\"-webkit-box-sizing\");\n  var paddingSize = parseFloat(style.getPropertyValue(\"padding-bottom\")) + parseFloat(style.getPropertyValue(\"padding-top\"));\n  var borderSize = parseFloat(style.getPropertyValue(\"border-bottom-width\")) + parseFloat(style.getPropertyValue(\"border-top-width\"));\n  var sizingStyle = DOM_STYLE_PROPS.map(function (name) {\n    return \"\".concat(name, \":\").concat(style.getPropertyValue(name));\n  }).join(\";\");\n  return {\n    paddingSize: paddingSize,\n    borderSize: borderSize,\n    boxSizing: boxSizing,\n    sizingStyle: sizingStyle\n  };\n}\nexport { calculateNodeSize, firstUpperCase, getBackgroundColor, getCharacterLength, getIEVersion, getTabElementByValue, getUnicodeLength, limitUnicodeMaxLength, omit, pxCompat, removeEmptyAttrs };","map":{"version":3,"mappings":"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","names":["obj","fields","shallowCopy","i","length","key","removeEmptyAttrs","newObj","Object","keys","getTabElementByValue","tabs","value","item","id","_tabs$filter2","result","firstUpperCase","str","toLowerCase","char","getBackgroundColor","color","isArray","unshift","from","to","_color$direction","direction","rest","a","b","c","parseFloat","substr","map","tempArr","getIEVersion","navigator","userAgent","indexOf","isIE","RegExp","reIE","match","isIE11","Number","maxCharacter","hasMaxCharacter","characters","len","currentStringLength","charCodeAt","slice","getUnicodeLength","_toConsumableArray","maxLength","pxCompat","param","DOM_STYLE_PROPS","calculateNodeSize","targetElement","window","style","getPropertyValue","sizingStyle","name","join","paddingSize","borderSize","boxSizing"],"sources":["../../../../src/_common/js/utils/helper.ts"],"sourcesContent":["export function omit(obj: object, fields: string[]): object {\n  const shallowCopy = {\n    ...obj,\n  };\n  for (let i = 0; i < fields.length; i++) {\n    const key = fields[i];\n    delete shallowCopy[key];\n  }\n  return shallowCopy;\n}\n\nexport function removeEmptyAttrs<T>(obj: T): Partial<T> {\n  const newObj = {};\n\n  Object.keys(obj).forEach((key) => {\n    if (typeof obj[key] !== 'undefined' || obj[key] === null) {\n      newObj[key] = obj[key];\n    }\n  });\n\n  return newObj;\n}\n\nexport function getTabElementByValue(tabs: [] = [], value: string): object {\n  const [result] = tabs.filter((item) => {\n    const { id } = item as any;\n    return id === value;\n  });\n  return result || null;\n}\n\nexport function firstUpperCase(str: string): string {\n  return str.toLowerCase().replace(/( |^)[a-z]/g, (char: string) => char.toUpperCase());\n}\n\nexport type Gradients = { [percent: string]: string };\nexport type FromTo = { from: string; to: string };\nexport type LinearGradient = { direction?: string } & (Gradients | FromTo);\nexport function getBackgroundColor(color: string | string[] | LinearGradient): string {\n  if (typeof color === 'string') {\n    return color;\n  }\n  if (Array.isArray(color)) {\n    if (color[0] && color[0][0] === '#') {\n      color.unshift('90deg');\n    }\n    return `linear-gradient( ${color.join(',')} )`;\n  }\n  const {\n    from, to, direction = 'to right', ...rest\n  } = color;\n  let keys = Object.keys(rest);\n  if (keys.length) {\n    keys = keys.sort((a, b) => {\n      const c = parseFloat(a.substr(0, a.length - 1)) - parseFloat(b.substr(0, b.length - 1));\n      return c;\n    });\n    const tempArr = keys.map((key: any) => `${rest[key]} ${key}`);\n    return `linear-gradient(${direction}, ${tempArr.join(',')})`;\n  }\n  return `linear-gradient(${direction}, ${from}, ${to})`;\n}\n\n/**\n *\n * @returns 获取 ie 浏览器版本\n */\nexport function getIEVersion() {\n  const { userAgent } = navigator;\n  // 判断是否IE<11浏览器\n  const isIE = userAgent.indexOf('compatible') > -1 && userAgent.indexOf('MSIE') > -1;\n  // 判断是否IE11浏览器\n  const isIE11 = userAgent.indexOf('Trident') > -1 && userAgent.indexOf('rv:11.0') > -1;\n  if (isIE) {\n    const reIE = new RegExp('MSIE (\\\\d+\\\\.\\\\d+);');\n    const match = userAgent.match(reIE);\n    if (!match) return -1;\n    const fIEVersion = parseFloat(match[1]);\n    return fIEVersion < 7 ? 6 : fIEVersion;\n  }\n  if (isIE11) {\n    // IE11\n    return 11;\n  }\n  // 不是ie浏览器\n  return Number.MAX_SAFE_INTEGER;\n}\n\n/**\n * 计算字符串字符的长度并可以截取字符串。\n * @param str 传入字符串\n * @param maxCharacter 规定最大字符串长度\n * @returns 当没有传入maxCharacter时返回字符串字符长度，当传入maxCharacter时返回截取之后的字符串和长度。\n */\nexport function getCharacterLength(str: string, maxCharacter?: number) {\n  const hasMaxCharacter = typeof maxCharacter === 'number';\n  if (!str || str.length === 0) {\n    if (hasMaxCharacter) {\n      return {\n        length: 0,\n        characters: str,\n      };\n    }\n    return 0;\n  }\n  let len = 0;\n  for (let i = 0; i < str.length; i++) {\n    let currentStringLength = 0;\n    if (str.charCodeAt(i) > 127 || str.charCodeAt(i) === 94) {\n      currentStringLength = 2;\n    } else {\n      currentStringLength = 1;\n    }\n    if (hasMaxCharacter && len + currentStringLength > maxCharacter) {\n      return {\n        length: len,\n        characters: str.slice(0, i),\n      };\n    }\n    len += currentStringLength;\n  }\n  if (hasMaxCharacter) {\n    return {\n      length: len,\n      characters: str,\n    };\n  }\n  return len;\n}\n\n/**\n * 返回 Unicode 字符长度\n * '👨'.length === 2\n * getUnicodeLength('👨') === 1\n * @param str\n * @returns {number}\n */\nexport function getUnicodeLength(str?: string): number {\n  return [...(str ?? '')].length;\n}\n\n/**\n * 修正 Unicode 最大字符长度\n * '👨👨👨'.slice(0, 2) === '👨'\n * limitUnicodeMaxLength('👨👨👨', 2) === '👨👨'\n * @param str\n * @param maxLength\n * @returns {string}\n */\nexport function limitUnicodeMaxLength(\n  str?: string,\n  maxLength?: number\n): string {\n  return [...(str ?? '')].slice(0, maxLength).join('');\n}\n\n/**\n * 兼容样式中支持number/string类型的传值 得出最后的结果。\n * @param param number或string类型的可用于样式上的值\n * @returns 可使用的样式值。\n */\nexport function pxCompat(param: string | number) {\n  return typeof param === 'number' ? `${param}px` : param;\n}\n\n/**\n * 计算dom元素盒模型尺寸\n * @param targetElement 需要计算盒模型尺寸的元素\n * @returns 计算出各维度尺寸。\n */\nconst DOM_STYLE_PROPS = [\n  'padding-top',\n  'padding-bottom',\n  'padding-left',\n  'padding-right',\n  'font-family',\n  'font-weight',\n  'font-size',\n  'font-variant',\n  'text-rendering',\n  'text-transform',\n  'width',\n  'text-indent',\n  'border-width',\n  'box-sizing',\n  'line-height',\n  'letter-spacing',\n];\n\nexport function calculateNodeSize(targetElement: HTMLElement) {\n  const style = window.getComputedStyle(targetElement);\n\n  const boxSizing = style.getPropertyValue('box-sizing')\n    || style.getPropertyValue('-moz-box-sizing')\n    || style.getPropertyValue('-webkit-box-sizing');\n\n  const paddingSize = (\n    parseFloat(style.getPropertyValue('padding-bottom'))\n    + parseFloat(style.getPropertyValue('padding-top'))\n  );\n\n  const borderSize = (\n    parseFloat(style.getPropertyValue('border-bottom-width'))\n    + parseFloat(style.getPropertyValue('border-top-width'))\n  );\n\n  const sizingStyle = DOM_STYLE_PROPS\n    .map((name) => `${name}:${style.getPropertyValue(name)}`)\n    .join(';');\n\n  return {\n    paddingSize, borderSize, boxSizing, sizingStyle,\n  };\n}\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}