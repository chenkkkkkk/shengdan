{"ast":null,"code":"/**\n * tdesign v0.14.1\n * (c) 2022 TDesign Group\n * @license MIT\n */\n\nvar findRelativeContainer = function findRelativeContainer(dom) {\n  var node = dom;\n  while (node && node !== document.body) {\n    var _getComputedStyle = getComputedStyle(node),\n      transform = _getComputedStyle.transform;\n    if (!/matrix\\([\\d,\\s]+\\)/.test(transform)) {\n      node = node.parentNode;\n      continue;\n    }\n    return node;\n  }\n  return null;\n};\nvar findRelativeRect = function findRelativeRect(dom) {\n  var container = findRelativeContainer(dom);\n  var containerRect = container ? container.getBoundingClientRect() : {\n    top: 0,\n    left: 0\n  };\n  var _dom$getBoundingClien = dom.getBoundingClientRect(),\n    top = _dom$getBoundingClien.top,\n    left = _dom$getBoundingClien.left,\n    bottom = _dom$getBoundingClien.bottom,\n    right = _dom$getBoundingClien.right,\n    width = _dom$getBoundingClien.width,\n    height = _dom$getBoundingClien.height;\n  return {\n    top: top - containerRect.top,\n    bottom: bottom - containerRect.top,\n    left: left - containerRect.left,\n    right: right - containerRect.left,\n    width: width,\n    height: height\n  };\n};\nexport { findRelativeContainer, findRelativeRect };","map":{"version":3,"mappings":";;;;;;IAEaA,wBAAwB,SAAxBA,sBAAyBC,GAAa;EACjD,IAAIC,IAAO;EACJ,eAAQA,IAAS,cAASC,IAAM;IACrC,IAAsBC,qCAAiBF,IAAI;MAAnCG;IACR,IAAI,CAAC,qBAAqBC,IAAK,UAAS,CAAG;MACzCJ,OAAOA,IAAK;MACZ;IACF;IACO;EACT;EACO;AACT;IAGaK,mBAAmB,SAAnBA,iBAAoBN,GAAa;EACtC,gBAAYD,sBAAsBC,GAAG;EAC3C,IAAMO,aAAgB,eAClBC,SAAU,wBACV;IACEC,GAAK;IACLC,IAAM;GACR;EACE,IAA8CV,4BAAIW,qBAAsB;IAAtEF;IAAKC,IAAM,yBAANA,IAAM;IAAAE;IAAQC;IAAOC,KAAO,yBAAPA,KAAO;IAAAC;EAClC;IACLN,KAAKA,MAAMF,aAAc;IACzBK,QAAQA,SAASL,aAAc;IAC/BG,MAAMA,OAAOH,aAAc;IAC3BM,OAAOA,QAAQN,aAAc;IAC7BO;IACAC;GACF;AACF","names":["findRelativeContainer","dom","node","body","getComputedStyle","transform","test","findRelativeRect","containerRect","container","top","left","getBoundingClientRect","bottom","right","width","height"],"sources":["../../src/dropdown-menu/dom-utils.ts"],"sourcesContent":["/* eslint-disable @typescript-eslint/explicit-module-boundary-types */\n// 获取相对定位容器\nexport const findRelativeContainer = (dom: any) => {\n  let node = dom;\n  while (node && node !== document.body) {\n    const { transform } = getComputedStyle(node);\n    if (!/matrix\\([\\d,\\s]+\\)/.test(transform)) {\n      node = node.parentNode;\n      continue;\n    }\n    return node;\n  }\n  return null;\n};\n\n// 获取相对定位视区参数\nexport const findRelativeRect = (dom: any) => {\n  const container = findRelativeContainer(dom);\n  const containerRect = container\n    ? container.getBoundingClientRect()\n    : {\n        top: 0,\n        left: 0,\n      };\n  const { top, left, bottom, right, width, height } = dom.getBoundingClientRect();\n  return {\n    top: top - containerRect.top,\n    bottom: bottom - containerRect.top,\n    left: left - containerRect.left,\n    right: right - containerRect.left,\n    width,\n    height,\n  };\n};\n"]},"metadata":{},"sourceType":"module","externalDependencies":[]}